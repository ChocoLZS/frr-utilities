# frr+ovs in one container

```text
                Host/Container 1                      |              Host/Container 2
                                                      |
                +------------------------+            |           +------------------------+
                |           r1           |            |           |           r2           |
                +------------------------+            |           +------------------------+
                |          frr           |            |           |          frr           |
                +------------------------+            |           +------------------------+
                |         br-ovs         |            |           |         br-ovs         |
                |    (OVS Bridge   )     |            |           |    (OVS Bridge   )     |
                |                        |            |           |                        |
                |                        |            |           |                        |
                |              +----+----+            |           +----+----+              |
                |              |  eth-r2 |<---------veth--------->|  eth-r1 |              |
                |              +---------+            |           +---------+              |
+---+-----+     +---+-----+              |            |           |              +---+-----+     +---+-----+
|    h1   |-----|  eth-h1 |              |            |           |              |  eth-h2 |-----|    h2   |
+---------+     +---------+--------------+            |           +--------------+---------+     +---------+

```

将eth作为二层接口，add-port至ovs 网桥，通过ovs网桥来管理所有流量

ovs-ofctl del-flows br-ovs，删除默认流表，可以发现r1-r2之间链路不通